{"version":3,"file":"/home/usuario/ull-esit-inf-dsi-21-22-prct11-async-sockets-alu0101326351/src/ej2/ej2.ts","sources":["/home/usuario/ull-esit-inf-dsi-21-22-prct11-async-sockets-alu0101326351/src/ej2/ej2.ts"],"names":[],"mappings":";;;AAAA,iDAAsC;AAEtC;;GAEG;AACH,MAAa,UAAU;IACnB;;;OAGG;IACH,YACY,IAAY;QAAZ,SAAI,GAAJ,IAAI,CAAQ;IACrB,CAAC;IAEJ;;;OAGG;IACI,KAAK;QACR,MAAM,SAAS,GAAW,OAAO,CAAC;QAClC,MAAM,GAAG,GAAG,IAAA,qBAAK,EAAC,KAAK,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtC,MAAM,IAAI,GAAG,IAAA,qBAAK,EAAC,MAAM,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;QAErC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE5B,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,EAAE;YAC5B,IAAI,OAAO,GAAa,IAAI,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;YACzD,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,OAAO,CAAC,MAAM,EAAE,kCAAkC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAChH,CAAC,CAAC,CAAC;IACP,CAAC;CACJ;AAzBD,gCAyBC;AAAA,CAAC;AAEF,IAAI,OAAO,GAAe,IAAI,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;AACzD,OAAO,CAAC,KAAK,EAAE,CAAC","sourcesContent":["import { spawn } from \"child_process\";\n\n/**\n * Clase que cuenta el número de veces que se repite la palabra Hola en un archivo el cual se pasa por parámetro al constructor\n */\nexport class CountWords {\n    /**\n     * Constructor que recibe la ruta al fichero\n     * @param path string\n     */\n    constructor(\n        private path: string\n    ) {}\n\n    /**\n     * Cuenta las veces que se repite la palabra Hola en el fichero indicado al constructor, haciendo uso de los comandos\n     * cat y grep de Unix y expresiones regulares de TypeScript\n     */\n    public count() {\n        const expresion: RegExp = /Hola/g;\n        const cat = spawn('cat', [this.path]);\n        const grep = spawn('grep', ['Hola']);\n\n        cat.stdout.pipe(grep.stdin);\n\n        grep.stdout.on('data', (data) => {\n            let matches: string[] = data.toString().match(expresion);\n            console.log(\"La palabra 'Hola', se repite \", matches.length, \" veces en el siguiente archivo: \", this.path);\n        });\n    }\n};\n\nlet counter: CountWords = new CountWords(process.argv[2])\ncounter.count();\n"]}